<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Span (timedesc.Timedesc.Span)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">timedesc</a> &#x00BB; <a href="../index.html">Timedesc</a> &#x00BB; Span</nav><h1>Module <code>Timedesc.Span</code></h1><nav class="toc"><ul><li><a href="#constants">Constants</a></li><li><a href="#constructors">Constructors</a></li><li><a href="#conversion">Conversion</a></li><li><a href="#comparison">Comparison</a></li><li><a href="#arithmetic">Arithmetic</a></li><li><a href="#pretty-printing">Pretty printing</a></li><li><a href="#sexp">Sexp</a></li></ul></nav></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-t.s" class="anchored"><td class="def field"><a href="#type-t.s" class="anchor"></a><code>s : int64;</code></td></tr><tr id="type-t.ns" class="anchored"><td class="def field"><a href="#type-t.ns" class="anchor"></a><code>ns : int;</code></td></tr></table><code>}</code></dt><dd><p>Signed/directional span of time expressed as a tuple of <code>(s, ns)</code></p><ul><li><code>s</code> is the signed second of the span</li><li><code>ns</code> is the unsigned nanosecond offset</li></ul><p>The actual span represented is defined as <code>s * 10^9 + ns</code> in nanosecond, regardless of the sign of <code>s</code></p><p>Order is defined using lexicographic order, i.e. <code>lt x y iff. x.s &lt; y.s || (x.s = y.s &amp;&amp; x.ns &lt; y.ns)</code></p></dd></dl><dl><dt class="spec exception" id="exception-Out_of_range"><a href="#exception-Out_of_range" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Out_of_range</span></code></dt></dl><div class="spec module" id="module-For_human"><a href="#module-For_human" class="anchor"></a><code><span class="keyword">module</span> <a href="For_human/index.html">For_human</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><section><header><h2 id="constants"><a href="#constants" class="anchor"></a>Constants</h2></header><dl><dt class="spec value" id="val-ns_count_in_s"><a href="#val-ns_count_in_s" class="anchor"></a><code><span class="keyword">val</span> ns_count_in_s : int</code></dt><dt class="spec value" id="val-ns_count_in_s_float"><a href="#val-ns_count_in_s_float" class="anchor"></a><code><span class="keyword">val</span> ns_count_in_s_float : float</code></dt><dt class="spec value" id="val-zero"><a href="#val-zero" class="anchor"></a><code><span class="keyword">val</span> zero : <a href="index.html#type-t">t</a></code></dt></dl></section><section><header><h2 id="constructors"><a href="#constructors" class="anchor"></a>Constructors</h2></header><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : <span>?&#8288;s:int64</span> <span>&#45;&gt;</span> <span>?&#8288;ns:int</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>s</code> defaults to <code>0L</code>, <code>ns</code> defaults to <code>0</code></p><p><code>ns</code> may be negative, and is normalized during construction</p><p>Interpretation of provided input is still <code>s + ns</code>, i.e. if you wish to represent &quot;negative (1 second and 500 nanosecond)&quot;, then the call could look like <code>make ~s:(-1L) ~ns:(-500)</code></p><dl><dt>raises Out_of_range</dt><dd><p>if the value cannot be represented even after normalization</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-make_small"><a href="#val-make_small" class="anchor"></a><code><span class="keyword">val</span> make_small : <span>?&#8288;s:int</span> <span>&#45;&gt;</span> <span>?&#8288;ns:int</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Wrapper around <code>make</code></p></dd></dl></section><section><header><h2 id="conversion"><a href="#conversion" class="anchor"></a>Conversion</h2></header><dl><dt class="spec value" id="val-to_float_s"><a href="#val-to_float_s" class="anchor"></a><code><span class="keyword">val</span> to_float_s : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> float</code></dt><dd><p>Returns span in seconds, fraction represents subsecond span.</p><p>Representation is the same as result from <code>Unix.gettimeofday</code>.</p></dd></dl><dl><dt class="spec value" id="val-of_float_s"><a href="#val-of_float_s" class="anchor"></a><code><span class="keyword">val</span> of_float_s : float <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Convert from span in seconds, fraction represents subsecond span</p><p>Representation is the same as result from <code>Unix.gettimeofday</code>.</p></dd></dl></section><section><header><h2 id="comparison"><a href="#comparison" class="anchor"></a>Comparison</h2></header><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-lt"><a href="#val-lt" class="anchor"></a><code><span class="keyword">val</span> lt : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-le"><a href="#val-le" class="anchor"></a><code><span class="keyword">val</span> le : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-gt"><a href="#val-gt" class="anchor"></a><code><span class="keyword">val</span> gt : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-ge"><a href="#val-ge" class="anchor"></a><code><span class="keyword">val</span> ge : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val</span> compare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt></dl></section><section><header><h2 id="arithmetic"><a href="#arithmetic" class="anchor"></a>Arithmetic</h2></header><dl><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span class="keyword">val</span> sub : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-succ"><a href="#val-succ" class="anchor"></a><code><span class="keyword">val</span> succ : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-pred"><a href="#val-pred" class="anchor"></a><code><span class="keyword">val</span> pred : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-neg"><a href="#val-neg" class="anchor"></a><code><span class="keyword">val</span> neg : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-abs"><a href="#val-abs" class="anchor"></a><code><span class="keyword">val</span> abs : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-max"><a href="#val-max" class="anchor"></a><code><span class="keyword">val</span> max : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-min"><a href="#val-min" class="anchor"></a><code><span class="keyword">val</span> min : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-ceil"><a href="#val-ceil" class="anchor"></a><code><span class="keyword">val</span> ceil : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Rounds up to nearest second</p></dd></dl><dl><dt class="spec value" id="val-floor"><a href="#val-floor" class="anchor"></a><code><span class="keyword">val</span> floor : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Rounds down to nearest second</p></dd></dl><dl><dt class="spec value" id="val-round"><a href="#val-round" class="anchor"></a><code><span class="keyword">val</span> round : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Rounds to nearest second</p><p>For <code>round x</code></p><ul><li>if <code>x.ns &gt;= 500_000_000</code>, then <code>round x = ceil x</code></li><li>otherwise <code>round x = floor x</code></li></ul></dd></dl><dl><dt class="spec value" id="val-(&lt;)"><a href="#val-(&lt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&lt;=)"><a href="#val-(&lt;=)" class="anchor"></a><code><span class="keyword">val</span> (&lt;=) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&gt;)"><a href="#val-(&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&gt;) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&gt;=)"><a href="#val-(&gt;=)" class="anchor"></a><code><span class="keyword">val</span> (&gt;=) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(=)"><a href="#val-(=)" class="anchor"></a><code><span class="keyword">val</span> (=) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&lt;&gt;)"><a href="#val-(&lt;&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;&gt;) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(-)"><a href="#val-(-)" class="anchor"></a><code><span class="keyword">val</span> (-) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-(+)"><a href="#val-(+)" class="anchor"></a><code><span class="keyword">val</span> (+) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt></dl></section><section><header><h2 id="pretty-printing"><a href="#pretty-printing" class="anchor"></a>Pretty printing</h2></header><dl><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt></dl></section><section><header><h2 id="sexp"><a href="#sexp" class="anchor"></a>Sexp</h2></header><dl><dt class="spec value" id="val-to_sexp"><a href="#val-to_sexp" class="anchor"></a><code><span class="keyword">val</span> to_sexp : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> CCSexp.t</code></dt><dt class="spec value" id="val-to_sexp_string"><a href="#val-to_sexp_string" class="anchor"></a><code><span class="keyword">val</span> to_sexp_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-of_sexp"><a href="#val-of_sexp" class="anchor"></a><code><span class="keyword">val</span> of_sexp : CCSexp.t <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>,Â string)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-of_sexp_string"><a href="#val-of_sexp_string" class="anchor"></a><code><span class="keyword">val</span> of_sexp_string : string <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>,Â string)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-pp_sexp"><a href="#val-pp_sexp" class="anchor"></a><code><span class="keyword">val</span> pp_sexp : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt></dl></section></div></body></html>