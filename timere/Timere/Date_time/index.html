<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Date_time (timere.Timere.Date_time)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">timere</a> &#x00BB; <a href="../index.html">Timere</a> &#x00BB; Date_time</nav><h1>Module <code>Timere.Date_time</code></h1></header><dl><dt class="spec type" id="type-tz_info"><a href="#type-tz_info" class="anchor"></a><code><span class="keyword">type</span> tz_info</code> = <code>[ </code><table class="variant"><tr id="type-tz_info.Tz_only" class="anchored"><td class="def constructor"><a href="#type-tz_info.Tz_only" class="anchor"></a><code>| </code><code>`Tz_only <span class="keyword">of</span> <a href="../Time_zone/index.html#type-t">Time_zone.t</a></code></td></tr><tr id="type-tz_info.Tz_offset_s_only" class="anchored"><td class="def constructor"><a href="#type-tz_info.Tz_offset_s_only" class="anchor"></a><code>| </code><code>`Tz_offset_s_only <span class="keyword">of</span> int</code></td></tr><tr id="type-tz_info.Tz_and_tz_offset_s" class="anchored"><td class="def constructor"><a href="#type-tz_info.Tz_and_tz_offset_s" class="anchor"></a><code>| </code><code>`Tz_and_tz_offset_s <span class="keyword">of</span> <a href="../Time_zone/index.html#type-t">Time_zone.t</a> * int</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-t.year" class="anchored"><td class="def field"><a href="#type-t.year" class="anchor"></a><code>year : int;</code></td></tr><tr id="type-t.month" class="anchored"><td class="def field"><a href="#type-t.month" class="anchor"></a><code>month : <a href="../index.html#type-month">month</a>;</code></td></tr><tr id="type-t.day" class="anchored"><td class="def field"><a href="#type-t.day" class="anchor"></a><code>day : int;</code></td></tr><tr id="type-t.hour" class="anchored"><td class="def field"><a href="#type-t.hour" class="anchor"></a><code>hour : int;</code></td></tr><tr id="type-t.minute" class="anchored"><td class="def field"><a href="#type-t.minute" class="anchor"></a><code>minute : int;</code></td></tr><tr id="type-t.second" class="anchored"><td class="def field"><a href="#type-t.second" class="anchor"></a><code>second : int;</code></td></tr><tr id="type-t.tz_info" class="anchored"><td class="def field"><a href="#type-t.tz_info" class="anchor"></a><code>tz_info : <a href="index.html#type-tz_info">tz_info</a>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : <span>year:int</span> <span>&#45;&gt;</span> <span>month:<a href="../index.html#type-month">month</a></span> <span>&#45;&gt;</span> <span>day:int</span> <span>&#45;&gt;</span> <span>hour:int</span> <span>&#45;&gt;</span> <span>minute:int</span> <span>&#45;&gt;</span> <span>second:int</span> <span>&#45;&gt;</span> <span>tz:<a href="../Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>, unit)</span> Stdlib.result</span></code></dt><dd><p>Constructs a date time providing only a time zone.</p><p>A precise offset is inferred if possible.</p><p>Note that this may yield a ambiguous date time if the time zone has varying offsets, e.g. DST.</p><p>See <a href="index.html#val-make_precise"><code>make_precise</code></a> for the most precise construction.</p></dd></dl><dl><dt class="spec value" id="val-make_exn"><a href="#val-make_exn" class="anchor"></a><code><span class="keyword">val</span> make_exn : <span>year:int</span> <span>&#45;&gt;</span> <span>month:<a href="../index.html#type-month">month</a></span> <span>&#45;&gt;</span> <span>day:int</span> <span>&#45;&gt;</span> <span>hour:int</span> <span>&#45;&gt;</span> <span>minute:int</span> <span>&#45;&gt;</span> <span>second:int</span> <span>&#45;&gt;</span> <span>tz:<a href="../Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><dl><dt>raises Invalid_argument</dt><dd><p>if <code>make</code> fails</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-make_precise"><a href="#val-make_precise" class="anchor"></a><code><span class="keyword">val</span> make_precise : <span>?&#8288;tz:<a href="../Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <span>year:int</span> <span>&#45;&gt;</span> <span>month:<a href="../index.html#type-month">month</a></span> <span>&#45;&gt;</span> <span>day:int</span> <span>&#45;&gt;</span> <span>hour:int</span> <span>&#45;&gt;</span> <span>minute:int</span> <span>&#45;&gt;</span> <span>second:int</span> <span>&#45;&gt;</span> <span>tz_offset_s:<a href="../index.html#type-tz_offset_s">tz_offset_s</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>, unit)</span> Stdlib.result</span></code></dt><dd><p>Constructs a date time providing time zone offset in seconds, and optionally a time zone.</p><p>If a time zone is provided, then the offset is checked against the time zone record to make sure the time zone does use said offset for the particular date time.</p></dd></dl><dl><dt class="spec value" id="val-make_precise_exn"><a href="#val-make_precise_exn" class="anchor"></a><code><span class="keyword">val</span> make_precise_exn : <span>?&#8288;tz:<a href="../Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <span>year:int</span> <span>&#45;&gt;</span> <span>month:<a href="../index.html#type-month">month</a></span> <span>&#45;&gt;</span> <span>day:int</span> <span>&#45;&gt;</span> <span>hour:int</span> <span>&#45;&gt;</span> <span>minute:int</span> <span>&#45;&gt;</span> <span>second:int</span> <span>&#45;&gt;</span> <span>tz_offset_s:<a href="../index.html#type-tz_offset_s">tz_offset_s</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><dl><dt>raises Invalid_argument</dt><dd><p>if <code>make_precise</code> fails</p></dd></dl></dd></dl><dl><dt class="spec type" id="type-local_result"><a href="#type-local_result" class="anchor"></a><code><span class="keyword">type</span> <span>'a local_result</span></code> = <code>[ </code><table class="variant"><tr id="type-local_result.None" class="anchored"><td class="def constructor"><a href="#type-local_result.None" class="anchor"></a><code>| </code><code>`None</code></td></tr><tr id="type-local_result.Single" class="anchored"><td class="def constructor"><a href="#type-local_result.Single" class="anchor"></a><code>| </code><code>`Single <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-local_result.Ambiguous" class="anchored"><td class="def constructor"><a href="#type-local_result.Ambiguous" class="anchor"></a><code>| </code><code>`Ambiguous <span class="keyword">of</span> <span class="type-var">'a</span> * <span class="type-var">'a</span></code></td></tr></table><code> ]</code></dt><dd><p>Result for when a local date time may be involved, e.g. using a date time with no precise time zone offset attached.</p><ul><li><code>`None</code> is yielded when the date time does not map to any <code>'a</code>. This happens when DST begins and &quot;skips an hour&quot; for instance.</li><li><code>`Single</code> is yielded when the date time maps to exactly one <code>'a</code>. This happens when date time carries an accurate offset, or when the date time is not affected by any offset shifts (thus an accurate offset can be inferred).</li><li><code>`Ambiguous</code> is yielded when date time maps to more than one (exactly two) <code>'a</code>. This happens when DST ends and &quot;goes back an hour&quot; for instance.</li></ul></dd></dl><dl><dt class="spec value" id="val-to_timestamp"><a href="#val-to_timestamp" class="anchor"></a><code><span class="keyword">val</span> to_timestamp : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../index.html#type-timestamp">timestamp</a> <a href="index.html#type-local_result">local_result</a></span></code></dt><dt class="spec value" id="val-to_timestamp_single"><a href="#val-to_timestamp_single" class="anchor"></a><code><span class="keyword">val</span> to_timestamp_single : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../index.html#type-timestamp">timestamp</a></code></dt><dd><dl><dt>raises Invalid_argument</dt><dd><p>if <code>to_timestamp</code> does not yield a <code>`Single</code> result</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-min_of_timestamp_local_result"><a href="#val-min_of_timestamp_local_result" class="anchor"></a><code><span class="keyword">val</span> min_of_timestamp_local_result : <span><a href="../index.html#type-timestamp">timestamp</a> <a href="index.html#type-local_result">local_result</a></span> <span>&#45;&gt;</span> <span><a href="../index.html#type-timestamp">timestamp</a> option</span></code></dt><dt class="spec value" id="val-max_of_timestamp_local_result"><a href="#val-max_of_timestamp_local_result" class="anchor"></a><code><span class="keyword">val</span> max_of_timestamp_local_result : <span><a href="../index.html#type-timestamp">timestamp</a> <a href="index.html#type-local_result">local_result</a></span> <span>&#45;&gt;</span> <span><a href="../index.html#type-timestamp">timestamp</a> option</span></code></dt><dt class="spec value" id="val-of_timestamp"><a href="#val-of_timestamp" class="anchor"></a><code><span class="keyword">val</span> of_timestamp : <span>?&#8288;tz_of_date_time:<a href="../Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> <a href="../index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>, unit)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-min"><a href="#val-min" class="anchor"></a><code><span class="keyword">val</span> min : <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-max"><a href="#val-max" class="anchor"></a><code><span class="keyword">val</span> max : <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-cur"><a href="#val-cur" class="anchor"></a><code><span class="keyword">val</span> cur : <span>?&#8288;tz_of_date_time:<a href="../Time_zone/index.html#type-t">Time_zone.t</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>, unit)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-sprintf"><a href="#val-sprintf" class="anchor"></a><code><span class="keyword">val</span> sprintf : <span>?&#8288;format:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Pretty printing for date time.</p><p>Default format string:</p><pre>{year} {mon:Xxx} {mday:0X} {hour:0X}:{min:0X}:{sec:0X} \
{tzoff-sign}{tzoff-hour:0X}:{tzoff-min:0X}:{tzoff-sec:0X}</pre><p>Format string specification:</p><pre>{{               literal {
{year}           year
{mon:Xxx}        abbreviated month name (e.g. Jan), casing of 'x' controls the casing
{mon:Xx*}        full month name (e.g. January), casing of first 'x' controls casing of first letter,
                 casing of second 'x' controls casing of following letters
{mday:cX}        month day (e.g.  1) character 'c' before 'X' is used for padding
                 (leave out character for no padding)
{wday:Xxx}       abbreviated weekday name (e.g. Sun), the casing of 'x' controls the casing
{wday:Xx*}       full weekday name (e.g. Sunday), casing of first 'x' controls casing of first letter,
                 casing of second 'x' controls casing of following letters
{hour:cX}        hour in 24-hour format, character 'c' before 'X' determines padding
                 (leave out character for no padding)
{12hour:cX}      hour in 12-hour format, character 'c' before 'X' determines padding
                 (leave out character for no padding)
{min:cX}         minute, character 'c' before 'X' determines padding
                 (leave out character for no padding)
{sec:cX}         second, character 'c' before 'X' determines padding
                 (leave out character for no padding)
{tzoff-sign}     time zone offset sign ('+' or '-')
                 yields &quot;N/A&quot; if time zone offset is not available
{tzoff-hour:cX}  time zone offset hour, follows same padding rule as &quot;{hour:cX}&quot;
                 yields &quot;N/A&quot; if time zone offset is not available
{tzoff-min:cX}   time zone offset minute, follows same padding rule as &quot;{min:cX}&quot;
                 yields &quot;N/A&quot; if time zone offset is not available
{tzoff-sec:cX}   time zone offset second, follows same padding rule as &quot;{sec:cX}&quot;
                 yields &quot;N/A&quot; if time zone offset is not available</pre></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <span>?&#8288;format:string</span> <span>&#45;&gt;</span> Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-to_rfc3339"><a href="#val-to_rfc3339" class="anchor"></a><code><span class="keyword">val</span> to_rfc3339 : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-of_iso8601"><a href="#val-of_iso8601" class="anchor"></a><code><span class="keyword">val</span> of_iso8601 : string <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>, string)</span> Stdlib.result</span></code></dt></dl></div></body></html>